GEOM
PROPERTY GS_INPUT_PRIMITIVE TRIANGLES
PROPERTY GS_OUTPUT_PRIMITIVE TRIANGLE_STRIP
PROPERTY GS_MAX_OUTPUT_VERTICES 3
DCL IN[][0], POSITION, CONSTANT
DCL IN[][1], COLOR, CONSTANT
DCL OUT[0], POSITION, CONSTANT
DCL OUT[1], COLOR, CONSTANT

MOV OUT[0], IN[0][0]
ADD OUT[1], IN[0][1], IN[1][1]
EMIT

MOV OUT[0], IN[1][0]
ADD OUT[1], IN[1][1], IN[2][1]
EMIT

MOV OUT[0], IN[2][0]
ADD OUT[1], IN[2][1], IN[0][1]
EMIT

ENDPRIM

END
